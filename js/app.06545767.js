(function(e){function t(t){for(var a,o,r=t[0],s=t[1],u=t[2],p=0,d=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&d.push(l[o][0]),l[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var s=n[r];0!==l[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},l={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var c=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1d20":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"*{margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.app,body,html{width:100%;height:100%;min-width:1200px}.app{display:-webkit-box;display:-ms-flexbox;display:flex}.left{width:calc(100% - 400px);padding:50px}.right{width:400px;background:rgba(147,205,255,.35);padding:50px 10px}.button-box,.check-box,.input-box{margin-bottom:20px}.input-box .lablel{white-space:nowrap;margin-bottom:10px}.input-box .input-item{margin-bottom:20px}.input-box button{margin-right:20px}.input-box .el-checkbox{margin-right:0;width:33.3%}.append-slot{text-align:center;padding:10px}.table-box{border:1px solid #93cdff}.el-table .customRowClass-1{background:#fdf5e6}.el-table .customRowClass-2{background:#f0f9eb}.el-table .customRowClass-3{background:rgba(245,108,108,.2)}",""])},"1e6d":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".agel-table{width:100%;height:auto;overflow:hidden}.agel-table .agel-pagination{overflow:hidden;padding:10px}.agel-table .el-table__empty-text{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}",""])},4229:function(e,t,n){var a=n("1e6d");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var l=n("499e").default;l("5a233c0d",a,!0,{sourceMap:!1,shadowMode:!1})},"464b":function(e,t,n){var a=n("1d20");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var l=n("499e").default;l("d5d9592e",a,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("div",{staticClass:"left"},[n("div",{staticClass:"table-box",style:{height:e.table.isResize?"100%":"auto"}},[n("agel-table",{scopedSlots:e._u([e.isSlotAppend?{key:"append",fn:function(){return[n("p",{staticClass:"append-slot"},[e._v("table slot append .... loading ...")])]},proxy:!0}:null,e.isSlotEmpty?{key:"empty",fn:function(){return[n("p",{staticClass:"append-slot"},[e._v("table slot empty .... 暂无数据 ...")])]},proxy:!0}:null,{key:"cutomHeader",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.rowClick(t)}}},[e._v(e._s(t.column.label))])]}},{key:"cutomColumn",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.rowClick(t)}}},[e._v("自定义列")])]}},{key:"expand",fn:function(t){t.index;var a=t.row;return[n("p",[e._v("展开行："+e._s(a.name))])]}}],null,!0),model:{value:e.table,callback:function(t){e.table=t},expression:"table"}})],1)]),n("div",{staticClass:"right"},[n("div",{staticClass:"input-box"},[n("div",{staticClass:"input-item"},[n("div",{staticClass:"lablel"},[e._v("功能")]),n("el-checkbox",{model:{value:e.table.showHeader,callback:function(t){e.$set(e.table,"showHeader",t)},expression:"table.showHeader"}},[e._v("表头")]),n("el-checkbox",{model:{value:e.table.isPage,callback:function(t){e.$set(e.table,"isPage",t)},expression:"table.isPage"}},[e._v("分页")]),n("el-checkbox",{model:{value:e.table.isResize,callback:function(t){e.$set(e.table,"isResize",t)},expression:"table.isResize"}},[e._v("自适应")]),n("el-checkbox",{model:{value:e.table.loading,callback:function(t){e.$set(e.table,"loading",t)},expression:"table.loading"}},[e._v("加载")]),n("el-checkbox",{model:{value:e.table.stripe,callback:function(t){e.$set(e.table,"stripe",t)},expression:"table.stripe"}},[e._v("斑马纹")]),n("el-checkbox",{model:{value:e.table.showSummary,callback:function(t){e.$set(e.table,"showSummary",t)},expression:"table.showSummary"}},[e._v("合计")]),n("el-checkbox",{model:{value:e.table.highlightCurrentRow,callback:function(t){e.$set(e.table,"highlightCurrentRow",t)},expression:"table.highlightCurrentRow"}},[e._v("单选高亮行")]),n("el-checkbox",{model:{value:e.table.columns[0].fixed,callback:function(t){e.$set(e.table.columns[0],"fixed",t)},expression:"table.columns[0].fixed"}},[e._v("固定列")]),n("el-checkbox",{model:{value:e.mainColumn.sortable,callback:function(t){e.$set(e.mainColumn,"sortable",t)},expression:"mainColumn.sortable"}},[e._v("排序")]),n("el-checkbox",{model:{value:e.isCustomIndex,callback:function(t){e.isCustomIndex=t},expression:"isCustomIndex"}},[e._v("自定义索引")]),n("el-checkbox",{model:{value:e.isSlotAppend,callback:function(t){e.isSlotAppend=t},expression:"isSlotAppend"}},[e._v("自定义追加")]),n("el-checkbox",{model:{value:e.isSlotEmpty,callback:function(t){e.isSlotEmpty=t},expression:"isSlotEmpty"}},[e._v("自定义无数据")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("自定义类名")]),n("el-checkbox",{attrs:{disabled:!0},model:{value:e.table.border,callback:function(t){e.$set(e.table,"border",t)},expression:"table.border"}},[e._v("边框")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("筛选列")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("拖动列")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("展开行")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("固定表头")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("流体高度")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("多级表头")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("懒加载树形")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("自定义列")]),n("el-checkbox",{attrs:{value:!0,disabled:!0}},[e._v("自定义表头")])],1),n("div",{staticClass:"input-item"},[n("div",{staticClass:"lablel"},[e._v("动态显示列")]),e._l(e.displayColumns,(function(t,a){return n("el-checkbox",{key:a,attrs:{label:t.label},model:{value:t.display,callback:function(n){e.$set(t,"display",n)},expression:"item.display"}})}))],2),n("div",{staticClass:"input-item"},[n("div",{staticClass:"lablel"},[e._v("高度")]),n("el-input",{attrs:{type:"number"},model:{value:e.table.height,callback:function(t){e.$set(e.table,"height",t)},expression:"table.height"}})],1),n("div",{staticClass:"input-item"},[n("div",{staticClass:"lablel"},[e._v("最大高度")]),n("el-input",{attrs:{type:"number"},model:{value:e.table.maxHeight,callback:function(t){e.$set(e.table,"maxHeight",t)},expression:"table.maxHeight"}})],1),n("div",{staticClass:"input-item"},[n("el-button",{on:{click:e.getData}},[e._v("加载数据")]),n("el-button",{on:{click:e.removeData}},[e._v("清空数据")])],1)])])])},i=[],o=(n("7514"),n("6b54"),n("a481"),function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}),r=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},s={name:"app",data:function(){var e=this;return{isSlotAppend:!1,isSlotEmpty:!1,isCustomIndex:!1,treeDeep:[0,1,2],table:{isResize:!1,isPage:!0,showSummary:!0,border:!0,showHeader:!0,stripe:!1,rowKey:"id",lazy:!0,height:500,highlightCurrentRow:!1,columns:[{label:"多选",type:"selection",align:"center",display:!0,width:50},{label:"展开",type:"expand",display:!0,width:60},{label:"索引",type:"index",display:!0,align:"center",width:80,index:function(t){var n=e.table.page,a=n.currentPage,l=n.pageSize;return e.isCustomIndex?"index-".concat((a-1)*l+t):t}},{label:"用户",minWidth:300,prop:"user",sortable:"custom",display:!0,slotColumn:"cutomColumn",slotHeader:"cutomHeader",filters:[{text:"编号 < 1-3",value:3},{text:"编号 < 1-5",value:5}],filterMethod:function(e,t){return t.index<=e}},{label:"平台账户",width:250,children:[{label:"姓名",prop:"name",display:!0},{label:"性别",prop:"user",display:!0,width:120,slotHeader:"cutomHeader",slotColumn:"cutomColumn"}],display:!0},{label:"手机",prop:"phone",width:100,showOverflowTooltip:!0,display:!0},{label:"简介",prop:"intor",display:!0,minWidth:300}],request:function(t,n){e.http(t).then((function(e){n({data:e,total:5*t.pageSize})}))},load:function(t,n,a){e.http({page:1,pageSize:3-t.level,level:t.level+1}).then((function(e){return a(e)}))},rowClassName:function(e){var t=e.rowIndex;return"customRowClass-".concat(t+1)},on:{sortChange:function(e){console.log("触发sortChange:",e)},currentChange:function(e){console.log("触发currentChange:",e)},pageChange:function(e){console.log("触发pageChange:"+e)},sizeChange:function(e){console.log("触发sizeChange:"+e)}}}}},mounted:function(){this.table.getData()},computed:{displayColumns:function(){return this.table.columns.filter((function(e){return void 0!=e.display}))},mainColumn:function(){return this.table.columns.find((function(e){return"用户"==e.label}))}},watch:{"table.isResize":function(e){e||(this.table.height="")}},methods:{http:function(e){var t=e.page,n=e.pageSize,a=e.level,l=void 0===a?1:a;return new Promise((function(e){setTimeout((function(){for(var a=[],i=0;i<n;i++){var r=(t-1)*n+i;a.push({id:o(),name:"编号-".concat(l,"-").concat(r),user:"admin",phone:100,intor:"暂无简介",index:r,level:l,hasChildren:i<3&&l<3})}e(a)}),200)}))},rowClick:function(e){console.log("触发按钮点击事件",e)},getData:function(){this.table.getData()},removeData:function(){var e=this;this.http({page:1,pageSize:0}).then((function(t){e.table.data=t,e.table.page.total=0,e.table.page.currentPage=1}))}}},u=s,c=(n("76e4"),n("2877")),p=Object(c["a"])(u,l,i,!1,null,null,null),d=p.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.LOAD?n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.value.loading,expression:"value.loading"}],ref:"container",staticClass:"agel-table",style:{height:e.value.height?e.value.height+"px":"auto"}},[n("el-table",e._g(e._b({ref:"table",staticStyle:{width:"100%"},scopedSlots:e._u([{key:"append",fn:function(){return[e._t("append")]},proxy:!0},{key:"empty",fn:function(){return[e._t("empty")]},proxy:!0},{key:"default",fn:function(){return[e._v("\n      "+e._s(e.renderColumns())+"\n      "),e._t("columns")]},proxy:!0}],null,!0)},"el-table",e.attrs,!1),e.events)),e.value.isPage?n("el-pagination",e._g(e._b({ref:"page"},"el-pagination",e.value.page,!1),e.events)):e._e()],1):e._e()},h=[],f=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),g=(n("c5f6"),n("7f7f"),function(){var e=this,t={$ref:void 0,loading:!1,isPage:!0,isResize:!1,columns:[],order:"",orderColumn:"",page:{},on:{},queryProps:{page:"page",pageSize:"pageSize",order:"order",orderColumn:"orderColumn"},request:null,getQuery:function(){var e,t=this.queryProps,n=t.page,a=t.pageSize,l=t.order,i=t.orderColumn;return e={},Object(f["a"])(e,n,this.page.currentPage),Object(f["a"])(e,a,this.page.pageSize),Object(f["a"])(e,l,this.order),Object(f["a"])(e,i,this.orderColumn),e},getData:function(){var e=this;this.request&&(this.loading=!0,new Promise((function(t){return e.request(e.getQuery(),t)})).then((function(t){var n=Array.isArray(t)?{data:t}:t,a=n.data,l=n.total;e.data=a||e.data,e.page.total=l||e.page.total,e.loading=!1})).catch((function(t){e.loading=!1,console.error("获取数据失败"+t)})))},resize:function(t){var n=e.value,a=function(){var t=e.$refs.container,a=t?t.parentNode.clientHeight:0;a<=0||(n.height=a)},l=function(){e.$nextTick((function(){a(),n.$ref&&n.$ref.doLayout()}))};t&&"resize"==t.type?a():l()}},n={data:[],height:void 0},a={pageSize:20,pageSizes:[10,20,50,100],currentPage:1,layout:"total, sizes, prev, pager, next, jumper",class:"agel-pagination",total:0},l={sortChange:function(t){var n=t.column,a=t.prop,l=t.order;"custom"===n.sortable&&(e.value.order=l,e.value.orderColumn=a,e.value.getData())},sizeChange:function(t){e.value.page.pageSize=t,e.value.getData()},currentChange:function(){return 2==arguments.length?"currentChange":1==arguments.length?(e.value.page.currentPage=arguments.length<=0?void 0:arguments[0],e.value.getData(),"pageChange"):void 0}},i=this.$agelTableConfig||{},o=i.table||{},r=i.page||{},s=i.column||{},u=this.value||{},c=u.page||{},p=u.on||{},d=this.attach||{};return{extendApi:t,defaultApi:n,eventsApi:l,pageApi:a,globalApi:o,globalPageApi:r,globalColumnApi:s,localApi:u,localPageApi:c,localEventsApi:p,attachApi:d}});function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function e(t,n,a){var l=t;return a.filter((function(e){return e.display})).map((function(a){if(a.children&&a.children.length>0)return l("el-table-column",{attrs:m({},a),key:a.key},[e(t,n,a.children)]);var i={},o=function(e){return e&&void 0!==n[e]};return o(a.slotHeader)&&(i.header=function(e){return n[a.slotHeader](m({},e))}),o(a.slotColumn)?i.default=function(e){return n[a.slotColumn](m({},e))}:"expand"==a.type&&o("expand")&&(i.default=function(e){return n.expand(m({},e))}),l("el-table-column",{attrs:m({},a),key:a.key,scopedSlots:i})}))},y=x;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(f["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={name:"agel-table",install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.prototype.$agelTableConfig=t,e.component(t.name||this.name,this)},provide:function(){return{table:this}},components:{},props:{value:{required:!0,type:Object},attach:{type:Object}},data:function(){return{pageHeight:0,LOAD:!1}},computed:{attrs:function(){if(!this.LOAD)return{};var e={},t=this.getApi().extendApi;for(var n in this.value)t.hasOwnProperty(n)||(e[n]=this.value[n]);if(e.height&&this.value.isPage){var a=Number(e.height)-this.pageHeight;e.height=a<0?0:a}return e},events:function(){if(!this.LOAD)return{};var e={},t=this.getApi(),n=t.eventsApi,a=t.localEventsApi,l=function(t){e[r(t)]=function(){var e=t;n[t]&&(e=n[t].apply(n,arguments)),a[e]&&a[e].apply(a,arguments)}};for(var i in k({},n,{},a))l(i);return e}},watch:{attach:{deep:!0,handler:function(e){this.$emit("input",k({},this.value,{},e))}},"value.isResize":"registerResize"},created:function(){this.value&&this.initApi()},beforeDestroy:function(){this.registerResize(!1)},methods:{getApi:g,initApi:function(){var e=this,t=this.getApi(),n=k({},t.defaultApi,{},t.extendApi,{},t.globalApi,{},t.localApi,{columns:this.getColumns(t.localApi.columns,t.globalColumnApi),page:k({},t.pageApi,{},t.globalPageApi,{},t.localPageApi)},t.attachApi);this.$emit("input",n),this.$nextTick((function(){e.LOAD=!0,e.$nextTick((function(){e.value.$ref=e.$refs.table,e.pageHeight=e.$refs.page.$el.clientHeight,e.registerResize()}))}))},getColumns:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.map((function(t){var a=k({},n,{},t,{key:void 0==t.key?o():t.key,display:void 0===t.display||t.display});return t.children&&t.children.length>0&&(t.children=e.getColumns(t.children,n)),a}))},renderColumns:function(){var e=this;0!=this.value.columns.length&&(this.$slots.columns=y(this.$createElement,this.$scopedSlots,this.value.columns),this.$nextTick((function(){e.$refs.table.doLayout()})))},registerResize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value.isResize;e?(this.value.resize(),window.addEventListener("resize",this.value.resize)):window.removeEventListener("resize",this.value.resize)}}},_=C,O=(n("b03f"),Object(c["a"])(_,b,h,!1,null,null,null)),z=O.exports;"undefined"!==typeof window&&window.Vue&&z.install(window.Vue);var P=z,A=n("7893"),S=n.n(A);n("610a");a["default"].config.productionTip=!1,a["default"].use(S.a,{size:"small"}),a["default"].use(P,{name:"agel-table",table:{class:"custom-class"},column:{resizable:!1},page:{pageSize:5,pageSizes:[5,10,15,20]}}),new a["default"]({render:function(e){return e(d)}}).$mount("#app")},"76e4":function(e,t,n){"use strict";var a=n("464b"),l=n.n(a);l.a},b03f:function(e,t,n){"use strict";var a=n("4229"),l=n.n(a);l.a}});